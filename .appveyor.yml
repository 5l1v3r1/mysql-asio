image: Visual Studio 2019
environment:
  CTEST_OUTPUT_ON_FAILURE: 1

build_script:
  - call "C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars64.bat"
  - mkdir build
  - cd build
  - cmake -G -DCMAKE_BUILD_TYPE=Debug -DCMAKE_C_COMPILER=cl -DCMAKE_CXX_COMPILER=cl ..
  - cmake --build . -j
  - ctest

services:
  - mysql